<html>
<body>
  <button id="alarm">Alarm: off</button>
  <script>
    const alarmBtn = document.querySelector("#alarm");
    let alarmState = "off";

    alarmBtn.addEventListener("click", (ev) => {
      ev.preventDefault();
      alarmState = alarmState == "off" ? "on" : "off";
      alarmBtn.innerText = `Alarm: ${alarmState}`;
      fetch("/alarm", {
        headers: {
          "Content-Type": "application/json"
        },
        method: "POST",
        body: JSON.stringify({ alarm: alarmState })
      })
    })
  </script>
</body>
</html>
